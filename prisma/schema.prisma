generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {

  id          String     @id @default(uuid())
  name        String
  saltAndHash String
  email       String     @unique
  images      String[]
  bornAt      DateTime 
  info        Info?  @relation("UserInfo")
  interests   Interest[] @relation("UserInterests")
  location    Location?

  @@map("user")
}

model Info {
  id          String    @id @default(uuid())
  languages   String[]
  location    Json
  age         Int       
  gender      String
  userId      String    @unique
  user        User      @relation("UserInfo", fields: [userId] , references: [id])

  @@map("info")
}

model Interest {

  id    String @id @default(uuid())
  name  String
  Users User[] @relation("UserInterests")

  @@map("interest")
}

model Location {
  identifier String @id @default(uuid())
  address    String
  lat        Float
  lon        Float
  user       User   @relation(fields: [userId], references: [id], onDelete: Cascade)
  userId     String @unique
}
